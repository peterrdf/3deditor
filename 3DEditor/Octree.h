#pragma once

#include <stdint.h>
#include <vector>

using namespace std;

#include "RDFInstance.h"

// ------------------------------------------------------------------------------------------------
class COctree
{

private: // Members

	// --------------------------------------------------------------------------------------------
	// Bins count
	uint32_t m_iBinsCount;

	// --------------------------------------------------------------------------------------------
	// X
	vector<uint32_t> m_vecXBins;
	vector<vector<int64_t> *> m_vecXBinsIndices;

	// --------------------------------------------------------------------------------------------
	// Y
	vector<uint32_t> m_vecYBins;
	vector<vector<int64_t> *> m_vecYBinsIndices;

	// --------------------------------------------------------------------------------------------
	// Z
	vector<uint32_t> m_vecZBins;
	vector<vector<int64_t> *> m_vecZBinsIndices;

	// --------------------------------------------------------------------------------------------
	vector<COctree *> m_vecChildren;

public: // Methods

	// --------------------------------------------------------------------------------------------
	// ctor
	COctree(uint32_t iBinsCount = 1000);

	// --------------------------------------------------------------------------------------------
	// dtor
	virtual ~COctree();

	// --------------------------------------------------------------------------------------------
	// Build the tree
	void Build(CRDFInstance * pInstance);
};

